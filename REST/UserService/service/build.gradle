buildscript {
    repositories {
        maven {
            url uri("file://$System.env.OUTPUT_ROOT/deliverables/")
        }
    }
    dependencies {
        classpath "forxy:ru.forxy.common.deploy:$rev_forxy_common"
    }
}

apply plugin: 'deploy'

// ========== Deploy ====================================================

deploy {
    serviceName = 'UserService'
    basePort = 10000
}

// ========== Dependencies ==============================================

dependencies {
    // --------------------- FORXY ---------------------------------------
    compile project(":ru.forxy.user.api")
    compile "forxy:ru.forxy.user.api"
    compile "forxy:ru.forxy.common.rest:${rev_forxy_common}"
    compile "forxy:ru.forxy.common.utils:${rev_forxy_common}"
    compile "forxy:ru.forxy.common.status:${rev_forxy_common}"
    compile "forxy:ru.forxy.common.logging:${rev_forxy_common}"

    // --------------------- JAX-WS --------------------------------------
    compile "org.apache.cxf:cxf-rt-frontend-jaxws:${rev_cxf}"
    compile "org.apache.cxf:cxf-rt-transports-http:${rev_cxf}"

    // --------------------- COMMON --------------------------------------
    compile "commons-collections:commons-collections:${rev_common_collections}"
    compile "org.slf4j:slf4j-api:${rev_slf4j}"
    compile "ch.qos.logback:logback-core:${rev_logback}"
    compile "ch.qos.logback:logback-classic:${rev_logback}"

    // --------------------- MONGO ---------------------------------------
    compile "org.mongodb:mongo-java-driver:${rev_mongo}"
    compile "org.springframework.data:spring-data-mongodb:${rev_spring_mongo}"

    // --------------------- CASSANDRA -----------------------------------
    compile "com.datastax.cassandra:cassandra-driver-core:${rev_cassandra_datastax}"

    // --------------------- SPRING --------------------------------------
    compile "org.springframework:spring-core:${rev_spring}"
    compile "org.springframework:spring-beans:${rev_spring}"
    compile "org.springframework:spring-context:${rev_spring}"
    compile "org.springframework:spring-aop:${rev_spring}"
    compile "org.springframework:spring-web:${rev_spring}"
    compile "org.springframework:spring-orm:${rev_spring}"
    compile "org.grails:grails-spring:${rev_grails}"
    compile "org.grails:grails-core:${rev_grails}"
    compile "org.grails:grails-web:${rev_grails}"
    compile "org.codehaus.groovy:groovy-all:${rev_groovy}"

    // ===================== TEST ========================================
    testCompile "org.springframework:spring-test:${rev_spring}"
    testCompile "junit:junit:${rev_junit}"
    testCompile "org.easymock:easymock:${rev_easymock}"
}