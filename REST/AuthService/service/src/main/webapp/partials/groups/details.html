<div>
    <h1>Group</h1>

    <form name="group_form" class="form-horizontal">
        <div class="well well-small">
            <button class="btn btn-small btn-save btn-success" ng-disabled="isSaveDisabled()" ng-click="save()">
                <span class="glyphicon glyphicon-ok-circle icon-white"></span>
                Save
            </button>
            &nbsp;
            <button class="btn btn-small btn-default" ng-disabled="isCancelDisabled()" ng-click="discard()">
                <span class="glyphicon glyphicon-ban-circle"></span>
                Discard changes
            </button>
        </div>

        <div class="control-group"
             ng-class="{ 'has-error' : group_form.code.$invalid && !group_form.code.$pristine }">
            <label class="control-label" for="code">Group Code:</label>

            <div class="controls">
                <input id="code" name="code" type="text" class="form-control ng-pristine ng-valid"
                       ng-model="group.code" ng-disabled="mode!='new'" required/>

                <p ng-show="group_form.code.$invalid && !group_form.code.$pristine" class="help-block">
                    Group Code is required.
                </p>

                <p class="help-block">
                    Unique identifier.
                </p>
            </div>
        </div>

        <div class="control-group"
             ng-class="{ 'has-error' : group_form.name.$invalid && !group_form.name.$pristine }">
            <label class="control-label" for="name">Group Name:</label>

            <div class="controls">
                <input id="name" name="name" type="text"
                       class="form-control ng-pristine ng-valid"
                       ng-model="group.name" required/>

                <p ng-show="group_form.name.$invalid && !group_form.name.$pristine"
                   class="help-block">
                    Group Name is required.
                </p>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label" for="description">Description:</label>

            <div class="controls">
                <textarea id="description" name="description" class="form-control ng-pristine ng-valid"
                          ng-model="group.description"></textarea>

                <p class="help-block">Human-readable text description</p>
            </div>
        </div>

        <div class="control-group"
             ng-class="{ 'has-error' : group_form.scope.$invalid && group_form.scope.$dirty }">
            <label class="control-label" for="scope">Scopes:</label>

            <div class="controls row">
                <div class="col-md-4">
                    <table class="table-hover table-responsive">
                        <thead>
                        <tr>
                            <th class="control-group">
                                <input id="scope" name="scope" class="form-control ng-pristine ng-valid"
                                       placeholder="scope name" type="text" ng-model="newScope"/>
                            </th>
                            <th>
                                <a href="" class="btn glyphicon glyphicon-plus-sign" style="color: #5cb85c"
                                   ng-disabled="group_form.scope.$invalid || !newScope"
                                   ng-click="group.scopes.push(newScope); newScope = null"></a>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td colspan="2">
                                <p ng-show="group_form.scope.$invalid && group_form.scope.$dirty"
                                   class="help-block">
                                    Scope should not be empty
                                </p>
                            </td>
                        </tr>
                        <tr ng-repeat="scope in group.scopes track by $index">
                            <td><span class="label label-success">{{scope}}</span></td>
                            <td><a href="" class="btn glyphicon glyphicon-minus-sign"
                                   ng-click="group.scopes.splice($index, 1)"></a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="well well-small control-group">
            <button class="btn btn-small btn-save btn-success" ng-disabled="isSaveDisabled()" ng-click="save()">
                <span class="glyphicon glyphicon-ok-circle icon-white"></span>
                Save
            </button>
            &nbsp;
            <button class="btn btn-small btn-default" ng-disabled="isCancelDisabled()" ng-click="discard()">
                <span class="glyphicon glyphicon-ban-circle"></span>
                Discard changes
            </button>
        </div>
    </form>
</div>
