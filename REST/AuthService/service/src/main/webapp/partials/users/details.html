<div>
    <h1>Application</h1>

    <form name="myForm">
        <div class="form-group">
            <label>Email:</label>
            <input type="email" class="form-control ng-pristine ng-valid" ng-model="user.email" required/>
        </div>

        <div class="form-group" ng-if="mode == 'new'">
            <label>Default password [will be generated if not set]:</label>
            <input type="password" class="form-control" ng-model="user.password"/>
            <input ng-show="!!user.password" type="password" class="form-control" ng-model="passwordRetype"/>
        </div>

        <div class="form-group">
            <label>Login:</label>
            <input type="text" class="form-control ng-pristine ng-valid" ng-model="user.login" required/>
        </div>

        <div class="form-group">
            <label>First Name:</label>
            <input type="text" class="form-control ng-pristine ng-valid" ng-model="user.firstName"/>
        </div>

        <div class="form-group">
            <label>Last Name:</label>
            <input type="text" class="form-control ng-pristine ng-valid" ng-model="user.lastName"/>
        </div>

        <div class="form-group">
            <label>Gender:</label>
            <select class="form-control ng-pristine" style="width: 90px" ng-model="user.gender">
                <option></option>
                <option value="MALE">Male</option>
                <option value="FEMALE">Female</option>
            </select>
        </div>

        <div class="form-group">
            <label>Roles:</label>
            [ <a href="" ng-click="user.roles.push('user')">add</a> ]
            <div ng-repeat="role in user.roles track by $index">
                <select ng-model="user.roles[$index]">
                    <option selected value="user">user</option>
                    <option value="admin">admin</option>
                </select>
                [ <a href="" ng-click="user.roles.splice($index, 1)">Ã—</a> ]
            </div>
        </div>

        <div class="form-group">
            <button ng-click="discard()" class="btn btn-danger" ng-disabled="isCancelDisabled()">Discard Changes</button>
            <button ng-click="save()" class="btn btn-success" ng-disabled="isSaveDisabled()">Save</button>
        </div>
    </form>
</div>
